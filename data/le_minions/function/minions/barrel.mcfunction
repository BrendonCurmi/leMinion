execute positioned ~ ~-.5 ~ run kill @e[distance=...5,limit=1,sort=nearest,type=item,nbt={Item:{id:"minecraft:barrel"}}]
setblock ~ ~-1 ~ barrel[facing=up] replace